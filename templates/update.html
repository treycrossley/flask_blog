
{% extends 'base.html' %}

{% block content %}
    
    {% for message in get_flashed_messages() %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
   Hey {{name}}! {{message}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
   
{% endfor %}

    {% if name %}
    <h1>Update User!</h1>
    </br>

    <br>
     <br>
    <br>

    <table class="table table-hover table-bordered table-striped">
    {% for our_user in our_users %}
    <br>
    <tr>
       <td> {{our_user.id}}. {{ our_user.name }} - {{our_user.email}}  - {{our_user.favorite_pizza_place}}</td>
    </tr>
    {%endfor%}
</table>

    {% else %} 
    <h1> Update User...</h1>
    <br/>
    <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
    <form action="/update/{{ name_to_update.id }}" method="POST">
        {{form.hidden_tag() }}
        {{form.name.label(class="form-label")}}
        {{form.name(class="form-control", value=name_to_update.name)}}

        {{form.email.label(class="form-label")}}
        {{form.email(class="form-control", value=name_to_update.email)}}

         {{form.favorite_pizza_place.label(class="form-label")}}
        {{form.favorite_pizza_place(class="form-control", value=name_to_update.favorite_pizza_place)}}
    </br>
    {{form.submit(class="btn btn-secondary")}}
    </form>
    </div>
{% endif %}

{% endblock %}

